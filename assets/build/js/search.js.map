{"version":3,"sources":["search.js"],"names":["let","search","document","getElementById","submitButton","resultOutput","loadingElement","noPostResultElement","query","queryLower","looding","result","showdata","resultData","classList","add","length","map","post","outerDiv","createElement","insideH2","className","appendChild","titleAnchor","innerText","Date","updated_at","toLocaleDateString","year","month","day","title","target","href","url","secondAnchor","excerpt","authorOuterDiv","authorNameAnchor","authorh5","primary_author","authorTime","name","reading_time","remove","showLoading","OldpostDataOutput","querySelectorAll","Array","prototype","forEach","call","node","parentNode","removeChild","loading","addEventListener","value","toLowerCase","errorElement","getElementsByClassName","api","GhostContentAPI","key","version","posts","browse","limit","include","then","filter","trim","includes","push","error","para"],"mappings":"AAAAA,IAAAC,OAAAC,SAAAC,eAAA,UACAC,aAAAF,SAAAC,eAAA,gBACAE,aAAAH,SAAAC,eAAA,iBACAG,eAAAJ,SAAAC,eAAA,eACAI,oBAAAL,SAAAC,eAAA,gBAIAK,MACAC,WACA,IACAC,QADAC,OAAA,GA8DA,SAAAC,SAAAC,GAEAP,eAAAQ,UAAAC,IAAA,UACAR,oBAAAO,UAAAC,IAAA,UAIA,EAAAF,EAAAG,OAEAH,EAAAI,IACAC,IAIA,MAAAC,EAAAjB,SAAAkB,cAAA,OAOAC,GALAF,EAAAG,UAAA,qJACAjB,aAAAkB,YAAAJ,GAIAjB,SAAAkB,cAAA,OAOAI,GANAH,EAAAC,UAAA,iFACAD,EAAAI,UAAA,IAAAC,KAAAR,EAAAS,YAAAC,mBAAA,QAAA,CAAAC,KAAA,UAAAC,MAAA,QAAAC,IAAA,YAEAZ,EAAAI,YAAAF,GAGAnB,SAAAkB,cAAA,MAMAY,GALAR,EAAAS,OAAA,SACAT,EAAAU,KAAAhB,EAAAiB,IAEAhB,EAAAI,YAAAC,GAEAtB,SAAAkB,cAAA,OASAgB,GAPAJ,EAAAV,UAAA,uIACAU,EAAAP,UAAAP,EAAAc,MAEAR,EAAAD,YAAAS,GAIA9B,SAAAkB,cAAA,MAMAiB,GALAD,EAAAH,OAAA,SACAG,EAAAF,KAAAhB,EAAAiB,IAEAhB,EAAAI,YAAAa,GAEAlC,SAAAkB,cAAA,MAOAkB,GANAD,EAAAf,UAAA,wIACAe,EAAAZ,UAAAP,EAAAmB,QAEAD,EAAAb,YAAAc,GAGAnC,SAAAkB,cAAA,QAKAmB,GAJAD,EAAAhB,UAAA,qBACAH,EAAAI,YAAAe,GAGApC,SAAAkB,cAAA,MAMAoB,GALAD,EAAAL,KAAAhB,EAAAuB,eAAAN,IACAI,EAAAN,OAAA,SACAK,EAAAf,YAAAgB,GAGArC,SAAAkB,cAAA,OAOAsB,GANAF,EAAAlB,UAAA,iFACAkB,EAAAf,UAAAP,EAAAuB,eAAAE,KACAJ,EAAAhB,YAAAiB,GAIAtC,SAAAkB,cAAA,OACAsB,EAAApB,UAAA,sFACAoB,EAAAjB,UAAAP,EAAA0B,aAAA,YACAN,EAAAf,YAAAmB,MAOAnC,oBAAAO,UAAA+B,OAAA,UAEAvC,eAAAQ,UAAAC,IAAA,WAMA,SAAA+B,cAEA9C,IAAA+C,EAAA7C,SAAA8C,iBAAA,aAEA,EAAAD,EAAA/B,QACAiC,MAAAC,UAAAC,QAAAC,KAAAL,EAAA,SAAAM,GACAA,EAAAC,WAAAC,YAAAF,KAGAG,SACAlD,eAAAQ,UAAA+B,OAAA,UAjKA5C,QACAC,SAAAC,eAAA,UAAAsD,iBAAA,SAAA,WACAjD,MAAAP,OAAAyD,MACAjD,WAAAD,MAAAmD,gBAKAvD,cACAA,aAAAqD,iBACA,QAAA,WACAzD,IAAA4D,EAAA1D,SAAA2D,uBAAA,SAEA,MAAAC,EAAA,IAAAC,gBAAA,CACA5B,IAAA,mCACA6B,IAAA,6BACAC,QAAA,OAEAtD,OAAA,GAEA6C,SAAA,EAEAV,cAGA,EAAAc,IACAA,EAAAtC,UAAA,UAEA,IACAwC,EAAAI,MACAC,OAAA,CAAAC,MAAA,MAAAC,QAAA,YACAC,KACA,IAEAJ,EAAAK,OACArD,KAEAA,EAAAc,MAAA2B,cAAAa,OAAAC,SAAAhE,aAAAS,EAAAmB,QAAAsB,cAAAa,OAAAC,SAAAhE,cAEAE,OAAA+D,KAAAxD,KAIAsC,SAAA,EACA5C,SAAAD,UAGA,MAAAgE,GACArE,eAAAQ,UAAAC,IAAA,UACA,MAAA6D,EAAA1E,SAAAkB,cAAA,KACAwD,EAAAtD,UAAA,QACAsD,EAAAnD,UAAAkD,EACAtE,aAAAkB,YAAAqD","file":"search.js","sourcesContent":["let search = document.getElementById('search')\nlet submitButton = document.getElementById('submitButton')\nlet resultOutput = document.getElementById('outPostResult')\nlet loadingElement = document.getElementById('loadingData')\nlet noPostResultElement = document.getElementById('noPostResult')\n\n\n\nlet query;\nlet queryLower;\nvar result = []\nvar looding;\n\nif (search) {\n  document.getElementById('search').addEventListener(\"change\", function () {\n    query = search.value\n    queryLower = query.toLowerCase()\n  }\n  )\n}\n\nif (submitButton) {\n  submitButton.addEventListener(\n    'click', function () {\n      let errorElement = document.getElementsByClassName('error')\n\n      const api = new GhostContentAPI({\n        url: 'https://officialrajdeepsingh.dev',\n        key: 'b69753961ae603cfa6773090ce',\n        version: \"v4\"\n      });\n      result = []\n\n      loading = true\n\n      showLoading()\n\n    \n      if (errorElement > 0) {\n        errorElement.className = 'hidden'\n      }\n      try {\n        api.posts\n          .browse({ limit: 'all', include: 'authors' })\n          .then(\n            (posts) => {\n\n              posts.filter(\n                post => {\n\n                  if (post.title.toLowerCase().trim().includes(queryLower) || post.excerpt.toLowerCase().trim().includes(queryLower)) {\n\n                    result.push(post)\n                  }\n                }\n              )\n              loading = false\n              showdata(result)\n            }\n          )\n      } catch (error) {\n        loadingElement.classList.add(\"hidden\");\n        const para = document.createElement(\"p\");\n        para.className = 'error'\n        para.innerText = error\n        resultOutput.appendChild(para);\n      }\n\n    }\n  )\n}\n\nfunction showdata(resultData) {\n\n  loadingElement.classList.add(\"hidden\");\n  noPostResultElement.classList.add('hidden')\n\n \n\n  if (resultData.length > 0) {\n\n    resultData.map(\n      post => {\n      \n\n        //   outer div\n        const outerDiv = document.createElement(\"div\");\n\n        outerDiv.className = 'postData flex flex-col m-auto my-16 xs:my-16 sm:my-16 md:my-16 lg:my-20 xl:my-20 2xl:my-22 p-6 w-5/6 sm:w-5/6 md:w-5/6 lg:w-5/6 xl:w-5/6 2xl:w-5/6'\n        resultOutput.appendChild(outerDiv);\n    \n        \n        // inside outer div create h2\n      const insideH2 = document.createElement(\"h2\");\n      insideH2.className='text-sm text-gray-600 xs:text-md sm:text-md md:text-lg xl:text-xl 2xl:text-1xl'\n      insideH2.innerText= new Date(post.updated_at).toLocaleDateString('en-us', { year:\"numeric\", month:\"short\", day:\"numeric\"}) \n   \n      outerDiv.appendChild(insideH2);\n\n      // inside outer div create a \n      const titleAnchor = document.createElement(\"a\");\n      titleAnchor.target='_blank'\n      titleAnchor.href= post.url\n     \n      outerDiv.appendChild(titleAnchor);\n//  title tag with title Anchor\n      const title = document.createElement(\"h1\");\n     \n      title.className ='text-1xl text-gray-800 xs:mt-2 sm:mt-2 md:mt-2 lg:mt-2 xl:mt-2 2xl:mt-2 xs:text-1xl sm:text-3xl md:text-4xl xl:text-5xl 2xl:text-5xl'\n        title.innerText=post.title\n    \n        titleAnchor.appendChild(title);\n\n\n        // inside outer div create second anchor \n      const secondAnchor = document.createElement(\"a\");\n      secondAnchor.target=\"_blank\"\n      secondAnchor.href= post.url\n     \n      outerDiv.appendChild(secondAnchor);\n//  title tag with title Anchor\n      const excerpt = document.createElement(\"p\");\n      excerpt.className ='text-sm text-gray-600 mt-0 xs:mt-0 sm:mt-0 md:mt-1 lg:mt-2 xl:mt-2 2xl:mt-2 xs:text-md sm:text-md md:text-xl xl:text-2xl 2xl:text-3xl'\n        excerpt.innerText=post.excerpt\n    \n        secondAnchor.appendChild(excerpt);\n\n         // inside outer div create author div \n      const authorOuterDiv = document.createElement(\"div\");\n      authorOuterDiv.className=\"flex flex-row mt-2\"\n      outerDiv.appendChild(authorOuterDiv);\n\n    //  Author Anchor\n      const authorNameAnchor = document.createElement(\"a\");\n      authorNameAnchor.href= post.primary_author.url\n      authorNameAnchor.target= \"_blank\"\n      authorOuterDiv.appendChild(authorNameAnchor);\n\n    //   Author anchor with h5\n    const authorh5 = document.createElement(\"h5\");\n    authorh5.className ='text-sm text-gray-600 xs:text-md sm:text-md md:text-lg xl:text-xl 2xl:text-1xl'\n    authorh5.innerText= post.primary_author.name\n    authorNameAnchor.appendChild(authorh5);\n\n    //  add time in author box\n\n    const authorTime = document.createElement(\"h5\");\n    authorTime.className ='ml-3 text-sm text-gray-600 xs:text-md sm:text-md md:text-lg xl:text-xl 2xl:text-1xl'\n    authorTime.innerText= post.reading_time + ' Min Read'\n    authorOuterDiv.appendChild(authorTime);\n    \n      }\n    )\n  }\n  else {\n\n    noPostResultElement.classList.remove('hidden')\n\n    loadingElement.classList.add(\"hidden\");\n  }\n\n}\n\n\nfunction showLoading() {\n\n  let OldpostDataOutput = document.querySelectorAll(\".postData\");\n\n  if (OldpostDataOutput.length > 0) {\n    Array.prototype.forEach.call(OldpostDataOutput, function (node) {\n      node.parentNode.removeChild(node);\n    });\n  }\n  if (loading) {\n    loadingElement.classList.remove(\"hidden\");\n  }\n\n}\n"]}